# ğŸ”— RealLink

<p align="center">
  <img src="public/icon128.png" width="64" height="64" alt="RealLink Logo">
</p>

<p align="center">
  <b>è‡ªåŠ¨è¿˜åŸä¸­æ–‡ç½‘ç«™å¤–é“¾è·³è½¬æ‹¦æˆª</b>
</p>

<p align="center">
  <a href="#åŠŸèƒ½ç‰¹æ€§">åŠŸèƒ½ç‰¹æ€§</a> â€¢
  <a href="#æ”¯æŒå¹³å°">æ”¯æŒå¹³å°</a> â€¢
  <a href="#å®‰è£…æ–¹æ³•">å®‰è£…æ–¹æ³•</a> â€¢
  <a href="#ä½¿ç”¨æ•ˆæœ">ä½¿ç”¨æ•ˆæœ</a> â€¢
  <a href="#æŠ€æœ¯æ¶æ„">æŠ€æœ¯æ¶æ„</a>
</p>

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ”“ **è‡ªåŠ¨è¿˜åŸå¤–é“¾** - æ‹¦æˆªç»è¿‡è·³è½¬çš„ä¸­é—´é“¾æ¥ï¼Œç›´æ¥è·³è½¬åˆ°ç›®æ ‡ç½‘ç«™
- ğŸš€ **å³æ—¶ç”Ÿæ•ˆ** - é¡µé¢åŠ è½½å’ŒåŠ¨æ€å†…å®¹æ›´æ–°æ—¶è‡ªåŠ¨å¤„ç†
- ğŸ¯ **å¤šå¹³å°æ”¯æŒ** - æ”¯æŒä¸»æµä¸­æ–‡å†…å®¹å¹³å°
- ğŸ“Š **å®æ—¶ç»Ÿè®¡** - æ˜¾ç¤ºå·²å¤„ç†çš„é“¾æ¥æ•°é‡
- âš¡ **æ€§èƒ½ä¼˜åŒ–** - ä½¿ç”¨ MutationObserver é«˜æ•ˆå¤„ç†åŠ¨æ€å†…å®¹
- ğŸ›¡ï¸ **å®‰å…¨ä¼˜å…ˆ** - ä»…å¤„ç†å¯ä¿¡åŸŸåï¼Œé¿å…å®‰å…¨é£é™©

## ğŸŒ æ”¯æŒå¹³å°

| å¹³å° | åŸŸå | å¤„ç†æ–¹å¼ |
|------|------|----------|
| **çŸ¥ä¹** | `zhihu.com` | æå– `target` å‚æ•° |
| **æ˜é‡‘** | `juejin.cn` | æå– `target` å‚æ•° |
| **CSDN** | `csdn.net` | æå– `target` å‚æ•° + å…ƒç´ æ›¿æ¢ |
| **ç®€ä¹¦** | `jianshu.com` | æå– `target` å‚æ•° |
| **åšå®¢å›­** | `cnblogs.com` | æå– `target` å‚æ•° |
| **å¾®ä¿¡** | `weixin.qq.com` | æå– `target` å‚æ•° |
| **Bilibili** | `bilibili.com` | æå– `target` å‚æ•° |
| **å¾®åš** | `weibo.com` | æå– `target` å‚æ•° |
| **ç™¾åº¦è´´å§** | `tieba.baidu.com` | æå– `target` å‚æ•° |
| **51CTO** | `51cto.com` | æå– `target` å‚æ•° |
| **InfoQ** | `infoq.cn` | æå– `target` å‚æ•° |
| **OSChina** | `oschina.net` | æå– `target` å‚æ•° |

## ğŸ“¥ å®‰è£…æ–¹æ³•

### æ–¹å¼ä¸€ï¼šChrome åº”ç”¨å•†åº—ï¼ˆæ¨èï¼‰

> å¾…ä¸Šæ¶

### æ–¹å¼äºŒï¼šæœ¬åœ°å®‰è£…ï¼ˆå¼€å‘è€…æ¨¡å¼ï¼‰

1. **å…‹éš†æˆ–ä¸‹è½½é¡¹ç›®**
   ```bash
   git clone <repository-url>
   cd realLink
   ```

2. **å®‰è£…ä¾èµ–å¹¶æ„å»º**
   ```bash
   yarn install
   # æˆ– npm install
   ```

3. **åŠ è½½æ‰©å±•åˆ° Chrome**
   - æ‰“å¼€ Chrome æµè§ˆå™¨ï¼Œåœ°å€æ è¾“å…¥ `chrome://extensions/` å›è½¦
   - å¯ç”¨å³ä¸Šè§’çš„ **å¼€å‘è€…æ¨¡å¼**
   - ç‚¹å‡»å·¦ä¸Šè§’çš„ **"åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº"** æŒ‰é’®
   - é€‰æ‹©é¡¹ç›®ç›®å½•ä¸‹çš„ `dist` æ–‡ä»¶å¤¹

4. **å®Œæˆå®‰è£…**
   - å»ºè®®å°†æ‰©å±•å›¾æ ‡å›ºå®šåœ¨ä¹¦ç­¾æ ä»¥ä¾¿æŸ¥çœ‹ç»Ÿè®¡
   - åˆ·æ–°ç›®æ ‡ç½‘ç«™é¡µé¢å³å¯ç”Ÿæ•ˆ

## ğŸ¯ ä½¿ç”¨æ•ˆæœ

### è½¬æ¢ç¤ºä¾‹

**çŸ¥ä¹é“¾æ¥è½¬æ¢ï¼š**
```html
<!-- è½¬æ¢å‰ -->
<a href="https://link.zhihu.com/?target=https%3A%2F%2Fgithub.com%2Fuser%2Frepo">
  GitHub é¡¹ç›®
</a>

<!-- è½¬æ¢å -->
<a href="https://github.com/user/repo">
  GitHub é¡¹ç›®
</a>
```

**æ˜é‡‘é“¾æ¥è½¬æ¢ï¼š**
```html
<!-- è½¬æ¢å‰ -->
<a href="https://link.juejin.cn/?target=https%3A%2F%2Fstackoverflow.com">
  Stack Overflow
</a>

<!-- è½¬æ¢å -->
<a href="https://stackoverflow.com">
  Stack Overflow
</a>
```

**CSDN é“¾æ¥è½¬æ¢ï¼ˆå«å…ƒç´ æ›¿æ¢ï¼‰ï¼š**
```html
<!-- è½¬æ¢å‰ -->
<a href="https://link.csdn.net/?target=https%3A%2F%2Fexample.com">
  ç¤ºä¾‹é“¾æ¥
</a>

<!-- è½¬æ¢åï¼ˆå˜ä¸ºå¯ç‚¹å‡»çš„ spanï¼‰ -->
<span class="original-class" style="cursor: pointer; color: blue;">
  ç¤ºä¾‹é“¾æ¥
</span>
```

### ç•Œé¢å±•ç¤º

ç‚¹å‡»æ‰©å±•å›¾æ ‡ï¼Œå¯ä»¥æŸ¥çœ‹ï¼š
- å½“å‰é¡µé¢åŸŸå
- å·²å¤„ç†çš„é“¾æ¥æ•°é‡
- æ”¯æŒçš„å¹³å°åˆ—è¡¨
- å¿«é€Ÿå¼€å…³æ§åˆ¶

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆ

- **TypeScript 5.0+** - ç±»å‹å®‰å…¨çš„ JavaScript è¶…é›†
- **Chrome Extension Manifest V3** - æœ€æ–°æ‰©å±•æ ‡å‡†
- **ES6 Modules** - ç°ä»£æ¨¡å—åŒ–æ–¹æ¡ˆ
- **MutationObserver API** - é«˜æ•ˆçš„ DOM å˜åŒ–ç›‘å¬

### æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Content Script                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Strategy Pattern â”‚  â”‚      Link Replacement       â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚ TargetHrefâ”‚  â”‚  â”‚  â”‚ MutationObserver    â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ Strategy  â”‚â”€â”€â”¼â”€â”€â”¼â”€â–¶â”‚ - childList: true   â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â”‚ - subtree: true     â”‚   â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â”‚  â”‚ CSDN      â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”‚  â”‚ Strategy  â”‚  â”‚                                   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Background Script                      â”‚
â”‚              (Service Worker - Manifest V3)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Popup UI                             â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚         â”‚  Stats Panel â”‚  â”‚  Domain Info    â”‚           â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç­–ç•¥æ¨¡å¼

ä½¿ç”¨ç­–ç•¥æ¨¡å¼å¤„ç†ä¸åŒåŸŸåçš„é“¾æ¥æ›¿æ¢è§„åˆ™ï¼š

```typescript
interface LinkReplacementStrategy {
  apply(anchor: HTMLAnchorElement): void;
}

// çŸ¥ä¹ã€æ˜é‡‘ã€ç®€ä¹¦ç­‰ - æå– target å‚æ•°
class TargetHrefStrategy implements LinkReplacementStrategy { ... }

// CSDN - ç‰¹æ®Šå¤„ç†ï¼ˆéœ€è¦æ›¿æ¢å…ƒç´ ï¼‰
class TargetCSDNHrefStrategy implements LinkReplacementStrategy { ... }

// å…¶ä»–å¹³å° - ç‰¹å®šçš„è·³è½¬æ ¼å¼
class WeixinStrategy implements LinkReplacementStrategy { ... }
class BilibiliStrategy implements LinkReplacementStrategy { ... }
```

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„

```
realLink/
â”œâ”€â”€ content.ts          # å†…å®¹è„šæœ¬ - æ ¸å¿ƒé“¾æ¥å¤„ç†é€»è¾‘
â”œâ”€â”€ popup.ts            # å¼¹å‡ºçª—å£è„šæœ¬
â”œâ”€â”€ popup.html          # å¼¹å‡ºçª—å£ HTML
â”œâ”€â”€ options.ts          # é€‰é¡¹é¡µè„šæœ¬
â”œâ”€â”€ options.html        # é€‰é¡¹é¡µ HTML
â”œâ”€â”€ background.ts       # åå°æœåŠ¡è„šæœ¬
â”œâ”€â”€ manifest.json       # æ‰©å±•æ¸…å•æ–‡ä»¶
â”œâ”€â”€ strategies/         # é“¾æ¥å¤„ç†ç­–ç•¥ç›®å½•
â”‚   â”œâ”€â”€ base.ts         # åŸºç¡€ç­–ç•¥æ¥å£
â”‚   â”œâ”€â”€ target-href.ts  # target å‚æ•°æå–ç­–ç•¥
â”‚   â”œâ”€â”€ csdn.ts         # CSDN ç‰¹æ®Šç­–ç•¥
â”‚   â””â”€â”€ index.ts        # ç­–ç•¥å¯¼å‡º
â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ link-parser.ts  # é“¾æ¥è§£æå·¥å…·
â”œâ”€â”€ icons/              # å›¾æ ‡èµ„æº
â”œâ”€â”€ dist/               # æ„å»ºè¾“å‡ºç›®å½•
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â””â”€â”€ README.md
```

### å¯ç”¨å‘½ä»¤

```bash
# æ„å»ºé¡¹ç›®
yarn build

# ç›‘è§†æ¨¡å¼å¼€å‘
yarn watch

# ä»£ç æ£€æŸ¥
yarn lint

# å¤åˆ¶é™æ€èµ„æº
yarn copy
```

### æ·»åŠ æ–°å¹³å°æ”¯æŒ

1. åœ¨ `manifest.json` ä¸­æ·»åŠ åŒ¹é…æ¨¡å¼ï¼š
   ```json
   "matches": [
     "https://*.newsite.com/*"
   ]
   ```

2. åˆ›å»ºæ–°çš„ç­–ç•¥ç±»ï¼š
   ```typescript
   class NewSiteStrategy implements LinkReplacementStrategy {
     apply(anchor: HTMLAnchorElement): void {
       // å®ç°é“¾æ¥è§£æé€»è¾‘
     }
   }
   ```

3. åœ¨ `getStrategy()` å‡½æ•°ä¸­æ³¨å†Œï¼š
   ```typescript
   if (hostname.endsWith("newsite.com")) {
     return new NewSiteStrategy();
   }
   ```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ï¼š`git checkout -b feature/new-feature`
3. æäº¤æ›´æ”¹ï¼š`git commit -am 'Add new feature'`
4. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/new-feature`
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

[MIT License](LICENSE)

## ğŸ™ è‡´è°¢

- å›¾æ ‡è®¾è®¡ï¼š[æ¥æº]
- çµæ„Ÿæ¥æºï¼šå„ç§å¤–é“¾è·³è½¬æ‹¦æˆªçš„ä½“éªŒä¼˜åŒ–éœ€æ±‚

---

<p align="center">
  Made with â¤ï¸ for a better web browsing experience
</p>
